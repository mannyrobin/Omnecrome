<div ar-grid-filter parameters="gridScope.filterParams"></div>
<div ar-grid-title parameters="gridScope.titleParams"></div>

<table st-table="gridScope.grid.rows" st-pipe="gridScope.grid.loadAction" st-safe-src="gridScope.grid.rows"
	   class="table">
	<colgroup>
	</colgroup>
	<thead>
	<tr>
		<th class="grid-header" style="text-align: center; vertical-align: middle;">
			№
		</th>
		<th class="grid-header" style="text-align: center; vertical-align: middle;">
			Дата и время проверки
		</th>
		<th class="grid-header" style="text-align: center; vertical-align: middle;">
			Смена
		</th>
		<th class="grid-header" style="text-align: center; vertical-align: middle;">
			Контролер
		</th>
		<th class="grid-header" style="text-align: center; vertical-align: middle;">
			ТО СДиК
		</th>
		<th class="grid-header" style="text-align: center; vertical-align: middle;">
			Изъято СКМ
		</th>
		<th class="grid-header" style="text-align: center; vertical-align: middle;">
			Изъято СКМО
		</th>
		<th class="grid-header" style="text-align: center; vertical-align: middle;">
			Изъято ВЕСБ
		</th>
		<th class="grid-header" style="text-align: center; vertical-align: middle;">
			Изъято ЛПК
		</th>
	</tr>

	</thead>
	<tbody ng-show="gridScope.grid.isLoading">
	<tr>
		<td colspan="13" class="text-center"><img ng-src="{{'images/spinner.gif'}}"></td>
	</tr>
	</tbody>

	<tbody ng-show="!gridScope.grid.isLoading && gridScope.grid.rows.length > 0 && gridScope.grid.rows[0].type !== 'So20MergedCheckPlan'"
		   ng-repeat="row in gridScope.grid.rows"
		   style="border:none">
	<tr ng-show="row.type === 'So20MergedCheckResult'" ng-repeat="line in row.numbers track by $index">
		<td style="border-left:1px solid #ddd">{{line}}</td>
		<td style="text-align:center;border-left:1px solid #ddd">{{row.checkTimes[$index]}}</td>
		<td style="border-right:1px solid #ddd;border-left:1px solid #ddd">{{row.shifts[$index]}}</td>
		<td ng-if="$index === 0" rowspan="{{row.numbers.length}}" style="vertical-align:middle">{{row.fio}}</td>
		<td style="border-right:1px solid #ddd;border-left:1px solid #ddd">{{row.mocs[$index]}}</td>
		<td ng-if="$index === 0" rowspan="{{row.numbers.length}}"
			style="text-align:center;vertical-align:middle;border-right:1px solid #ddd">
			{{row.scm}}
		</td>
		<td ng-if="$index === 0" rowspan="{{row.numbers.length}}"
			style="text-align:center;vertical-align:middle;border-right:1px solid #ddd">
			{{row.scmo}}
		</td>
		<td ng-if="$index === 0" rowspan="{{row.numbers.length}}"
			style="text-align:center; vertical-align:middle;border-right:1px solid #ddd">
			{{row.vesb}}
		</td>
		<td ng-if="$index === 0" rowspan="{{row.numbers.length}}"
			style="text-align:center; vertical-align:middle;border-right:1px solid #ddd">
			{{row.other}}
		</td>
	</tr>
	<tr ng-show="row.type === 'So20MediumResult'" style="font-weight:bold;background-color:#f5f5f5">
		<td style="border-left:1px solid #ddd">{{row.routeNumber}}</td>
		<td style="text-align:center;border-left:1px solid #ddd">{{row.checkCount}}</td>
		<td style="border-right:1px solid #ddd;border-left:1px solid #ddd">{{row.shiftResult}}</td>
		<td style="vertical-align:middle"></td>
		<td style="border-right:1px solid #ddd;border-left:1px solid #ddd"></td>
		<td style="text-align:center;vertical-align:middle;border-right:1px solid #ddd">
			{{row.scmSum}}
		</td>
		<td style="text-align:center;vertical-align:middle;border-right:1px solid #ddd">
			{{row.scmoSum}}
		</td>
		<td style="text-align:center; vertical-align:middle;border-right:1px solid #ddd">
			{{row.vesbSum}}
		</td>
		<td style="text-align:center; vertical-align:middle;border-right:1px solid #ddd">
			{{row.otherSum}}
		</td>
	</tr>


	</tbody>

	<tbody ng-show="!gridScope.grid.isLoading && (gridScope.grid.rows.length === 0 || gridScope.grid.rows[0].type === 'So20MergedCheckPlan')">
	<tr style="background-color: transparent;">
		<td class="text-center" colspan="12">
			<p class="lead">Элементы не найдены</p>
		</td>
	</tr>
	</tbody>
	<tfoot>
	<tr>
		<td class="text-center" colspan="12">
			<div ar-grid-pagination rows-on-page="gridScope.colRowsOnPage" grid-scope="gridScope"></div>
		</td>
	</tr>
	</tfoot>
</table>


<!--div ar-grid-table grid-scope="gridScope"></div-->